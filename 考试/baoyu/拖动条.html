<!DOCTYPE html>
<!-- saved from url=(0036)http://192.168.1.3/download/bar.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>拖动条</title>
    <script src="./拖动条_files/scroll.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        .box {
            width: 400px;
            height: 500px;
            border: 1px solid red;
            position: relative;
            margin-top: 100px;
            margin-left: 100px;
            overflow: hidden;
        }
        .content {
            position: absolute;
            top: 0;
            left: 0;
            padding: 10px 20px 10px 10px;
        }

        .scroll {
            position: absolute;
            width: 20px;
            height: 100%;
            top: 0;
            right: 0;
            background-color: lavender;
        }

        .scroll .bar {
            position: absolute;
            width:20px;
            height: 50px;
            top: 0;
            left: 0;
            border-radius: 10px;
            background: red;
            cursor: pointer;
        }


    </style>
</head>
<body>

<div class="box" id="box-id">
    <div class="content">
        人社部、财政部今年4月份印发《关于2016年调整退休人员基本养老金的通知》，
        从2016年1月1日起，为2015年底前已按规定办理退休手续并按月领取基本养老金的
        企业和机关事业单位退休人员提高基本养老金水平，总体调整水平为2015年退休人员月人
        均基本养老金的6.5%左右 根据要求，各地区按照国务院部署、结合本地区实际，制定具体实
        施方案，报人力资源社会保障部、财政部审批后抓紧组织实施，尽快把调整增加的基本养老金
        施方案，报人力资源社会保障部、财政部审批后抓紧组织实施，尽快把调整增加的基本养老金
        施方案，报人力资源社会保障部、财政部审批后抓紧组织实施，尽快把调整增加的基本养老金
        施方案，报人力资源社会保障部、财政部审批后抓紧组织实施，尽快把调整增加的基本养老金
        施方案，报人力资源社会保障部、财政部审批后抓紧组织实施，尽快把调整增加的基本养老金
        施方案，报人力资源社会保障部、财政部审批后抓紧组织实施，尽快把调整增加的基本养老金
        施方案，报人力资源社会保障部、财政部审批后抓紧组织实施，尽快把调整增加的基本养老金
        施方案，报人力资源社会保障部、财政部审批后抓紧组织实施，尽快把调整增加的基本养老金
        施方案，报人力资源社会保障部、财政部审批后抓紧组织实施，尽快把调整增加的基本养老金
        施方案，报人力资源社会保障部、财政部审批后抓紧组织实施，尽快把调整增加的基本养老金
        施方案，报人力资源社会保障部、财政部审批后抓紧组织实施，尽快把调整增加的基本养老金
        施方案，报人力资源社会保障部、财政部审批后抓紧组织实施，尽快把调整增加的基本养老金
        施方案，报人力资源社会保障部、财政部审批后抓紧组织实施，尽快把调整增加的基本养老金
        发放到退休人员手中 如今，时间进入七月中旬，中新网记者注意到，目前除了上海发布了养老
        金调整具体方案并进行了发放外，其他省份的调整方案尚未出台。
        发放到退休人员手中 如今，时间进入七月中旬，中新网记者注意到，目前除了上海发布了养老
        金调整具体方案并进行了发放外，其他省份的调整方案尚未出台。
        发放到退休人员手中 如今，时间进入七月中旬，中新网记者注意到，目前除了上海发布了养老
        金调整具体方案并进行了发放外，其他省份的调整方案尚未出台。
        发放到退休人员手中 如今，时间进入七月中旬，中新网记者注意到，目前除了上海发布了养老
        金调整具体方案并进行了发放外，其他省份的调整方案尚未出台。
        发放到退休人员手中 如今，时间进入七月中旬，中新网记者注意到，目前除了上海发布了养老
        金调整具体方案并进行了发放外，其他省份的调整方案尚未出台。
        发放到退休人员手中 如今，时间进入七月中旬，中新网记者注意到，目前除了上海发布了养老
        金调整具体方案并进行了发放外，其他省份的调整方案尚未出台。
        发放到退休人员手中 如今，时间进入七月中旬，中新网记者注意到，目前除了上海发布了养老
        金调整具体方案并进行了发放外，其他省份的调整方案尚未出台。
        发放到退休人员手中 如今，时间进入七月中旬，中新网记者注意到，目前除了上海发布了养老
        金调整具体方案并进行了发放外，其他省份的调整方案尚未出台。
        发放到退休人员手中 如今，时间进入七月中旬，中新网记者注意到，目前除了上海发布了养老
        金调整具体方案并进行了发放外，其他省份的调整方案尚未出台。
        发放到退休人员手中 如今，时间进入七月中旬，中新网记者注意到，目前除了上海发布了养老
        金调整具体方案并进行了发放外，其他省份的调整方案尚未出台。
        发放到退休人员手中 如今，时间进入七月中旬，中新网记者注意到，目前除了上海发布了养老
        金调整具体方案并进行了发放外，其他省份的调整方案尚未出台。
        发放到退休人员手中 如今，时间进入七月中旬，中新网记者注意到，目前除了上海发布了养老
        金调整具体方案并进行了发放外，其他省份的调整方案尚未出台。
        发放到退休人员手中 如今，时间进入七月中旬，中新网记者注意到，目前除了上海发布了养老
        金调整具体方案并进行了发放外，其他省份的调整方案尚未出台。
    </div>
    <div class="scroll">
        <div class="bar" style="height: 144.167px;"></div>
    </div>
</div>

<script>

    window.onload = function (event) {

        var boxId = document.getElementById("box-id");
        var contentId = boxId.children[0];
        var scrollId = boxId.children[1];
        var barId = scrollId.children[0];

        //计算拖动条的高度，内容越多拖动条越短。
        var barHeight = boxId.offsetHeight /  contentId.offsetHeight  * boxId.offsetHeight;
        barId.style.height = barHeight + "px";


        barId.onmousedown = function (event) {
            var pageY = event.pageY || event.clientY + scroll().top;
            var s = pageY - barId.offsetTop;

            document.onmousemove = function (event) {
                var pageYY = event.pageY || event.clientY + scroll().top;
                var offsetTop =  pageYY - s; //得到移动后的bar的offsetTop值

                if (offsetTop < 0) {
                    offsetTop = 0;
                } else if (offsetTop > scrollId.offsetHeight - barId.offsetHeight) {
                    offsetTop = scrollId.offsetHeight - barId.offsetHeight;
                }

                var contentY = (contentId.offsetHeight - boxId.offsetHeight) /
                        (boxId.offsetHeight - barId.offsetHeight) * offsetTop;

                barId.style.top = offsetTop + "px";
                contentId.style.top = -contentY + "px";

                //移除拖动过程中选中的
                window.getSelection ? window.getSelection().removeAllRanges() : document.getSelection().empty();
            };

            document.onmouseup = function (event) {
              document.onmousemove = null;
            };
        };


    };
</script>


</body></html>